[build]
# Use mold linker for faster linking
rustflags = ["-C", "link-arg=-fuse-ld=mold", "-C", "target-cpu=native"]

# Parallel compilation (leave 2 cores for system)
jobs = 10

[target.aarch64-unknown-linux-gnu]
rustflags = ["-C", "link-arg=-fuse-ld=mold", "-C", "target-cpu=native"]

[target.wasm32-unknown-unknown]
rustflags = ["-C", "target-feature=+simd128"]

[target.x86_64-apple-darwin]
rustflags = ["-C", "target-feature=-avx,-avx2"]

# Profile for faster release builds during testing
[profile.release-test]
inherits = "release"
lto = "thin"
codegen-units = 8
debug = false
